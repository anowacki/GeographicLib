<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · GeographicLib.jl documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">GeographicLib.jl documentation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Examples</a><ul class="internal"><li><a class="tocitem" href="#Ellipsoids"><span>Ellipsoids</span></a></li><li><a class="tocitem" href="#Distance-between-two-points"><span>Distance between two points</span></a></li><li><a class="tocitem" href="#Moving-a-set-distance-from-one-point"><span>Moving a set distance from one point</span></a></li><li><a class="tocitem" href="#Computing-waypoints"><span>Computing waypoints</span></a></li><li><a class="tocitem" href="#Measuring-areas"><span>Measuring areas</span></a></li></ul></li><li><a class="tocitem" href="../julia_funcs/">Julia interface</a></li><li><a class="tocitem" href="../traditional_funcs/">Traditional interface</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/anowacki/GeographicLib.jl/blob/master/docs/src/examples.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>This implementation of the geodesic parts of GeographicLib allows you to do the following:</p><ul><li>Compute azimuths and distances between two know points: use <a href="../julia_funcs/#GeographicLib.inverse"><code>inverse</code></a>.</li><li>Compute the end point from some starting point, a direction and distance: use <a href="../julia_funcs/#GeographicLib.forward"><code>forward</code></a> or <a href="../julia_funcs/#GeographicLib.forward_deg"><code>forward_deg</code></a>.</li><li>Calculate waypoints along a known great circle path: use <a href="../julia_funcs/#GeographicLib.GeodesicLines.GeodesicLine-Tuple{Geodesic, Any, Any}"><code>GeodesicLine</code></a> and <a href="../julia_funcs/#GeographicLib.waypoints"><code>waypoints</code></a>.</li><li>Compute the area or perimeter of a polyon on the ellipsoid: use <a href="../julia_funcs/#GeographicLib.Polygons.Polygon"><code>Polygon</code></a> and <a href="../julia_funcs/#GeographicLib.properties"><code>properties</code></a>.</li></ul><p>These examples show how to do each of these in practice.</p><p>(Note that these examples are taken from the <a href="https://geographiclib.sourceforge.io/html/python/examples.html#">original documentation</a>.)</p><h2 id="Ellipsoids"><a class="docs-heading-anchor" href="#Ellipsoids">Ellipsoids</a><a id="Ellipsoids-1"></a><a class="docs-heading-anchor-permalink" href="#Ellipsoids" title="Permalink"></a></h2><p>By default, great circle calculations use the WGS84 ellipsoid. You therefore do not need to specify the first <code>ellipse</code> argument to the functions unless you want to specify your own ellipsoid. However, to specify your own ellipsoid on which to compute great circles, this is easily done:</p><pre><code class="language-julia-repl">julia&gt; using GeographicLib

julia&gt; semimajor_radius_m = 6378_388;

julia&gt; flattening = 1/297.0;

julia&gt; ellipse = Geodesic(semimajor_radius_m, flattening)
Geodesic:
       a: 6.378388e6
       f: 0.003367003367003367</code></pre><h2 id="Distance-between-two-points"><a class="docs-heading-anchor" href="#Distance-between-two-points">Distance between two points</a><a id="Distance-between-two-points-1"></a><a class="docs-heading-anchor-permalink" href="#Distance-between-two-points" title="Permalink"></a></h2><p>If you know the location of two points in longitude and latitude, use the <a href="../julia_funcs/#GeographicLib.inverse"><code>inverse</code></a> function to find the distance between them, the azimuth from the first point and backazimuth from the second point to the first:</p><pre><code class="language-julia-repl">julia&gt; lon1, lat1 = 174.81, -41.32; # Wellington, New Zealand

julia&gt; lon2, lat2 = -5.50, 40.96; # Salamanca, Spain

julia&gt; inverse(ellipse, lon1, lat1, lon2, lat2)
(azi = 161.1046750858827, baz = -161.21158298105982, dist = 1.9960331457114425e7, angle = 179.6197913140605)</code></pre><p>This returns a named tuple; the distance in m is given by the <code>.dist</code> field, <code>.angle</code> gives the angular distance on the equivalent sphere, <code>.azi</code> gives the forward azimuth and <code>.baz</code> the backazimuth.</p><h2 id="Moving-a-set-distance-from-one-point"><a class="docs-heading-anchor" href="#Moving-a-set-distance-from-one-point">Moving a set distance from one point</a><a id="Moving-a-set-distance-from-one-point-1"></a><a class="docs-heading-anchor-permalink" href="#Moving-a-set-distance-from-one-point" title="Permalink"></a></h2><p>If you know the starting point and want to know the end point from moving a certain distance along a certain azimuth, use <a href="../julia_funcs/#GeographicLib.forward"><code>forward</code></a>.</p><pre><code class="language-julia-repl">julia&gt; forward(ellipse, 115.74, -32.06, 225, 2000e3) # 2000 km southwest of Perth, Australia
(lon = 98.22644722385655, lat = -43.646489349577195, baz = 55.854896821905356, dist = 2.0e6, angle = 18.003186633674353)</code></pre><p>If you want to know the end point a certain angular distance away, use <a href="../julia_funcs/#GeographicLib.forward_deg"><code>forward_deg</code></a>:</p><pre><code class="language-julia-repl">julia&gt; forward_deg(ellipse, 115.74, -32.06, 225, 20) # 20° southwest of Perth
(lon = 95.90742651866789, lat = -44.744151411150156, baz = 57.47168951862605, dist = 2.221907360203232e6, angle = 20.0)</code></pre><h2 id="Computing-waypoints"><a class="docs-heading-anchor" href="#Computing-waypoints">Computing waypoints</a><a id="Computing-waypoints-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-waypoints" title="Permalink"></a></h2><p>Consider the great circle path from Beijing Airport (116.6°E, 40.1°N) to San Fransisco Airport (122.4°W, 37.6°N). Compute waypoints and azimuths at intervals of 1000 km by creating a <a href="../julia_funcs/#GeographicLib.GeodesicLines.GeodesicLine-Tuple{Geodesic, Any, Any}"><code>GeodesicLine</code></a> and then using <a href="../julia_funcs/#GeographicLib.waypoints"><code>waypoints</code></a>:</p><pre><code class="language-julia-repl">julia&gt; line = GeodesicLine(ellipse, 116.6, 40.1, lon2=-122.4, lat2=37.6)
GeodesicLine:
       a: 6.378388e6
       f: 0.003367003367003367
    caps: 65439
    lat1: 40.1
    lon1: 116.6
    azi1: 42.916274498536474
   salp1: 0.6809289156056745
   calp1: 0.7323495148438894
     s13: 9.514421681743788e6
     a13: 85.57941157162365

julia&gt; waypoints(line, dist=1000e3)
11-element Vector{NamedTuple{(:lon, :lat, :baz, :dist, :angle), NTuple{5, Float64}}}:
 (lon = 116.6, lat = 40.1, baz = -137.08372550146353, dist = 0.0, angle = 0.0)
 (lon = 125.4485667325373, lat = 46.37304779242446, baz = -131.00682481965458, dist = 1.0e6, angle = 8.998886872620938)
 (lon = 136.40637727605085, lat = 51.78759841880426, baz = -122.70667626241067, dist = 2.0e6, angle = 17.994676114113027)
 (lon = 149.93620398067395, lat = 55.924144706930434, baz = -111.75604881313774, dist = 3.0e6, angle = 26.987984341289916)
 (lon = 165.90470996945186, lat = 58.27453572396102, baz = -98.32022506798336, dist = 4.0e6, angle = 35.97966822059779)
 (lon = -176.97213147749545, lat = 58.43545906442418, baz = -83.71311081540205, dist = 5.0e6, angle = 44.970741063118155)
 (lon = -160.7345701291212, lat = 56.375367574145756, baz = -70.00410754285849, dist = 6.0e6, angle = 53.96227499942639)
 (lon = -146.83061753761507, lat = 52.459361612570746, baz = -58.670924994668155, dist = 7.0e6, angle = 62.9552977797524)
 (lon = -135.531489855743, lat = 47.19657788053033, baz = -50.01634694411308, dist = 8.0e6, angle = 71.95069362742086)
 (lon = -126.42034205680477, lat = 41.0241211786531, baz = -43.65845928486635, dist = 9.0e6, angle = 80.94911728584405)
 (lon = -122.4, lat = 37.59999999999999, baz = -41.10962796089933, dist = 9.514421681743788e6, angle = 85.57941157162367)</code></pre><p>If you just want some number of points along the way, use the <code>n</code> keyword argument:</p><pre><code class="language-julia-repl">julia&gt; waypoints(line, n=10)
10-element Vector{NamedTuple{(:lon, :lat, :baz, :dist, :angle), NTuple{5, Float64}}}:
 (lon = 116.6, lat = 40.1, baz = -137.08372550146353, dist = 0.0, angle = 0.0)
 (lon = 126.0126111856647, lat = 46.709034579241305, baz = -130.59740008727215, dist = 1.0571579646381987e6, angle = 9.51314678540973)
 (lon = 137.8175199510943, lat = 52.33432908010009, baz = -121.59372287667333, dist = 2.1143159292763975e6, angle = 19.022865841326787)
 (lon = 152.52050213344623, lat = 56.46815877414928, baz = -109.608496596686, dist = 3.1714738939145957e6, angle = 28.52991214184784)
 (lon = 169.78803691430426, lat = 58.512936752962524, baz = -95.01255785530321, dist = 4.228631858552795e6, angle = 38.03532928611469)
 (lon = -172.15587006256067, lat = 58.06322940031036, baz = -79.61693059230413, dist = 5.285789823190993e6, angle = 47.54033622959181)
 (lon = -155.6674221274284, lat = 55.21594792543654, baz = -65.81230407755629, dist = 6.342947787829191e6, angle = 57.04619601194877)
 (lon = -142.01246922996296, lat = 50.48799877187304, baz = -54.90015839311627, dist = 7.40010575246739e6, angle = 66.55407998760973)
 (lon = -131.12820808268523, lat = 44.465527833955235, baz = -46.856268007749804, dist = 8.45726371710559e6, angle = 76.06494142269099)
 (lon = -122.4, lat = 37.59999999999999, baz = -41.10962796089933, dist = 9.514421681743788e6, angle = 85.57941157162367)</code></pre><p>Or set the distance between points in terms of angle:</p><pre><code class="language-julia-repl">julia&gt; waypoints(line, angle=10)
10-element Vector{NamedTuple{(:lon, :lat, :baz, :dist, :angle), NTuple{5, Float64}}}:
 (lon = 116.6, lat = 40.1, baz = -137.08372550146353, dist = 0.0, angle = 0.0)
 (lon = 126.55306724811369, lat = 47.02451056726837, baz = -130.20299081102675, dist = 1.1112708185226605e6, angle = 10.0)
 (lon = 139.1907543571846, lat = 52.837886783177815, baz = -120.50297777939181, dist = 2.222958662728229e6, angle = 20.0)
 (lon = 155.05072606130204, lat = 56.93534454913972, baz = -107.49355294926323, dist = 3.334963135588773e6, angle = 30.0)
 (lon = 173.53698469358338, lat = 58.62977452059097, baz = -91.81330485164187, dist = 4.447145746945927e6, angle = 40.0)
 (lon = -167.6599068447789, lat = 57.540243916824664, baz = -75.81180965562544, dist = 5.559346588636242e6, angle = 50.0)
 (lon = -151.1045662211484, lat = 53.91941776870715, baz = -62.09358473950738, dist = 6.671403561172048e6, angle = 60.0)
 (lon = -137.77647639652707, lat = 48.428003710944736, baz = -51.67995925549309, dist = 7.783171861221558e6, angle = 70.0)
 (lon = -127.29504443962117, lat = 41.70777455951728, baz = -44.236536959892305, dist = 8.894541409303235e6, angle = 80.0)
 (lon = -122.4, lat = 37.6, baz = -41.10962796089939, dist = 9.514421681743788e6, angle = 85.57941157162365)</code></pre><h2 id="Measuring-areas"><a class="docs-heading-anchor" href="#Measuring-areas">Measuring areas</a><a id="Measuring-areas-1"></a><a class="docs-heading-anchor-permalink" href="#Measuring-areas" title="Permalink"></a></h2><p>Measure the area of Antarctica by using a <a href="../julia_funcs/#GeographicLib.Polygons.Polygon"><code>Polygon</code></a> and <a href="../julia_funcs/#GeographicLib.properties"><code>properties</code></a>:</p><pre><code class="language-julia-repl">julia&gt; antarctica = [
           ( -58,-63.1), (-74,-72.9), (-102,-71.9), (-102,-74.9), (-131,-74.3),
           (-163,-77.5), (163,-77.4), ( 172,-71.7), ( 140,-65.9), ( 113,-65.7),
           (  88,-66.6), ( 59,-66.9), (  25,-69.8), (  -4,-70.0), ( -14,-71.0),
           ( -33,-77.3), (-46,-77.9), ( -61,-74.7)
         ];

julia&gt; lons = first.(antarctica);

julia&gt; lats = last.(antarctica);

julia&gt; p = Polygon(ellipse, lons, lats);

julia&gt; properties(p)
(n = 18, perimeter = 1.683106789279071e7, area = 1.3662703680020094e13)</code></pre><p>Equivalently, call <a href="../julia_funcs/#GeographicLib.add_point!"><code>add_point!</code></a> multiple times:</p><pre><code class="language-julia-repl">julia&gt; p = Polygon(ellipse);

julia&gt; for (lon, lat) in  antarctica
           add_point!(p, lon, lat)
       end

julia&gt; properties(p)
(n = 18, perimeter = 1.6831928215597793e7, area = 1.3664118444349844e13)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../julia_funcs/">Julia interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.3 on <span class="colophon-date" title="Thursday 8 July 2021 15:51">Thursday 8 July 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
